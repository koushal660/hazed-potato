/* --------------------------------------------------
   GLOBAL BASE
-------------------------------------------------- */
body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    font-family: "Poppins", sans-serif;
    transition: background 1.5s ease, color 1.5s ease;
}

/* LIGHT THEME */
.light-theme {
    background: linear-gradient(#EAF6FF, #D7EDFF);
    color: #1C1C1C;
}

/* DARK THEME */
.dark-theme {
    background: linear-gradient(#002D62, #041E42);
    color: white;
}

/* --------------------------------------------------
   PAGE STRUCTURE
-------------------------------------------------- */
.page {
    display: none;
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.page-content {
    text-align: center;
    max-width: 600px;
    opacity: 0;
    transform: translateY(20px);
    animation: pageEnter 0.9s ease forwards;
}
/* Prevent overlap with Back button & Progress indicator */
.page-content {
    padding-top: 70px;   /* Pushes content down on all pages */
}

@keyframes pageEnter {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --------------------------------------------------
   BUTTONS
-------------------------------------------------- */
.next-btn {
    margin-top: 25px;
    padding: 12px 24px;
    background: #0047AB;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.3s;
}

.next-btn:hover {
    background: #003580;
}

/* --------------------------------------------------
   TYPING CURSOR
-------------------------------------------------- */
#typewriter {
    font-size: 28px;
    font-weight: 600;
}

.cursor {
    border-right: 3px solid #333;
    animation: blink 0.7s steps(1) infinite;
}

@keyframes blink {
    50% {
        border-color: transparent;
    }
}

/* --------------------------------------------------
   PRE-KRISHNA TRANSITION
-------------------------------------------------- */
#pre-krishna-transition {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4);
    backdrop-filter: blur(3px);
    z-index: 9999;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 22px;
}

.transition-text {
    animation: fadeInText 2s ease forwards;
}

@keyframes fadeInText {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --------------------------------------------------
   KRISHNA ENTRANCE
-------------------------------------------------- */
#krishna-entrance {
    display: none;
    position: fixed;
    inset: 0;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 9000;
}

#krishna-container {
    position: relative;
}

#krishna-img {
    width: 300px;
    opacity: 0;
    transform: translateY(50px) scale(1.2);
}

#krishna-glow {
    position: absolute;
    top: -30px;
    left: -30px;
    right: -30px;
    bottom: -30px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,215,0,0.4), rgba(0,0,0,0));
    opacity: 0;
    filter: blur(20px);
    z-index: -1;
}

.krishna-bubble {
    position: absolute;
    bottom: 10%;
    left: 50%;
    transform: translateX(-50%) scale(0.8);
    background: white;
    color: #002D62;
    padding: 12px 18px;
    border-radius: 18px;
    font-size: 16px;
    opacity: 0;
    transition: 0.5s ease;
}

/* --------------------------------------------------
   PAGE 0
-------------------------------------------------- */
#page0 .page-content h1 {
    font-size: 26px;
    margin-bottom: 10px;
}

#page0 .page-content p {
    font-size: 18px;
    margin-top: 10px;
    opacity: 0;
    transition: opacity 1s ease;
}

#page0-btn {
    margin-top: 20px;
    opacity: 0;
    transition: opacity 1s ease;
}

/* --------------------------------------------------
   PAGE 3 — Slide-in Cards
-------------------------------------------------- */
.p3-card {
    background: white;
    padding: 14px 20px;
    margin: 10px 0;
    border-radius: 12px;
    font-size: 16px;
    color: #1c1c1c;
    box-shadow: 0 5px 12px rgba(0,0,0,0.08);
    opacity: 0;
    transform: translateX(-25px);
    transition: 0.45s ease;
    max-width: 420px;
    margin-left: auto;
    margin-right: auto;
}

/* --------------------------------------------------
   PAGE 4
-------------------------------------------------- */
.p4-fade { transition: opacity 1s ease; }
.p4-glow { transition: opacity 1.2s ease, text-shadow 1.2s ease; }
.p4-highlight { transition: opacity 1.2s ease, background 1s ease; }

#nextBtnPage4 { margin-top: 28px; }

/* --------------------------------------------------
   PAGE 5 — Shared Moments
-------------------------------------------------- */
#p5-line1, 
#p5-line2, 
#p5-line3, 
#p5-line4 {
    font-size: 18px;
    line-height: 1.5;
    margin-top: 12px;
    opacity: 0;
}

#p5-line1 {
    font-size: 22px;
    font-weight: 600;
}

/* FINAL shimmer animation — CLEANED & UPDATED */
@keyframes p5glow {
    0% {
        text-shadow: 
            0 0 8px rgba(255, 230, 160, 0.4),
            0 0 12px rgba(255, 220, 140, 0.25);
    }
    50% {
        text-shadow: 
            0 0 18px rgba(255, 245, 190, 0.95),
            0 0 28px rgba(255, 230, 160, 0.70),
            0 0 38px rgba(255, 215, 120, 0.45);
    }
    100% {
        text-shadow: 
            0 0 8px rgba(255, 230, 160, 0.4),
            0 0 12px rgba(255, 220, 140, 0.25);
    }
}

.p5-glow {
    animation: p5glow 3.2s ease-in-out infinite;
    filter: drop-shadow(0 0 6px rgba(255, 230, 170, 0.55));
}

#nextBtnPage5 {
    margin-top: 30px;
}

/* Instant-load fix for Page 5 */
#page5 .page-content {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

/* Ensure lines start hidden */
#p5-line1,
#p5-line2,
#p5-line3,
#p5-line4 {
    opacity: 0;
}

/* --------------------------------------------------
   PAGE 5 — Tiny Floating Sparkles
-------------------------------------------------- */
.p5-sparkle-container {
    position: relative;
    display: inline-block;
}

.p5-sparkle {
    position: absolute;
    width: 5px;
    height: 5px;
    background: radial-gradient(circle, rgba(255,255,200,0.95), rgba(255,255,200,0));
    border-radius: 50%;
    opacity: 0;
    animation: sparkleFloat 2.4s ease-out forwards;
}

@keyframes sparkleFloat {
    0% {
        transform: translate(0, 0) scale(0.4);
        opacity: 0;
    }
    40% {
        opacity: 1;
    }
    100% {
        transform: translate(14px, -26px) scale(1);
        opacity: 0;
    }
}
/* ------------------------------
     PAGE 6 — Supportive Section
 ------------------------------ */
 #p6-line1, 
 #p6-line2, 
 #p6-line3, 
 #p6-line4 {
     font-size: 18px;
     margin-top: 12px;
     line-height: 1.5;
     opacity: 0;
 }
 
 #p6-line1 {
     font-size: 22px;
     font-weight: 600;
 }
 
 /* Soft fade */
 .p6-fade {
     transition: opacity 1s ease;
 }
 
 /* Add subtle warm highlight to last line */
 .p6-highlight {
     background: rgba(255, 235, 180, 0.35);
     padding: 6px 12px;
     border-radius: 8px;
     transition: opacity 1s ease, background 1s ease;
 }
 /* -----------------------------------
   PAGE 6: Prevent startup flash/race
----------------------------------- */
#page6 .page-content {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

/* Ensure all lines begin hidden (JS will fade/ type them intentionally) */
#p6-line1,
#p6-line2,
#p6-line3,
#p6-line4 {
    opacity: 0;
}


/* --------------------------------------------------
   PAGE 2 — Flash Fix
-------------------------------------------------- */
#page2 .page-content {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

#p2-type-text {
    opacity: 0;
}
/* -------------------------
   PAGE 7 — Funny Twist
-------------------------- */

.p7-line {
    opacity: 0;
    font-size: 18px;
    margin: 12px 0;
}

#p7-line1 {
    font-size: 22px;
    font-weight: 600;
}

.p7-bounce {
    animation: p7Bounce 0.8s ease forwards;
}

@keyframes p7Bounce {
    0% { transform: translateY(20px); opacity: 0; }
    60% { transform: translateY(-6px); opacity: 1; }
    100% { transform: translateY(0); opacity: 1; }
}

.p7-pop {
    animation: p7Pop 0.6s ease forwards;
}

@keyframes p7Pop {
    0% { transform: scale(0.85) rotate(-3deg); opacity: 0; }
    100% { transform: scale(1) rotate(0); opacity: 1; }
}

.p7-grow {
    animation: p7Grow 0.7s ease forwards;
}

@keyframes p7Grow {
    0% { transform: scale(0.9); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.p7-highlight {
    animation: p7Flicker 1.7s ease infinite alternate;
}

@keyframes p7Flicker {
    0% { text-shadow: 0 0 4px rgba(255, 220, 120, 0.35); }
    100% { text-shadow: 0 0 9px rgba(255, 240, 160, 0.65); }
}

/* Mute button */
.p7-btn {
    margin-top: 24px;
    padding: 10px 20px;
    background: #ffca6b;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    display: inline-block;
    animation: p7BtnEnter 0.5s ease forwards;
}

@keyframes p7BtnEnter {
    0% { transform: scale(0.7) rotate(-5deg); opacity: 0; }
    100% { transform: scale(1) rotate(0); opacity: 1; }
}

.p7-btn:hover {
    animation: p7Wobble 0.6s ease;
}

@keyframes p7Wobble {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-4deg); }
    75% { transform: rotate(4deg); }
}

/* Bubble after mute click */
.p7-bubble {
    position: relative;
    margin-top: 10px;
    font-size: 14px;
    background: rgba(255, 243, 200, 0.8);
    padding: 6px 12px;
    border-radius: 8px;
    display: none;
    opacity: 0;
    transform: translateY(10px);
    transition: 0.5s ease;
}
/* PAGE 8 Styles */
#page8 .page-content {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}

#p8-line1, #p8-line2, #p8-line3, #p8-line4, #p8-line5 {
    opacity: 0;
    font-size: 19px;
    line-height: 1.55;
    margin-top: 12px;
}

/* Subtle fireworks sparks */
.p8-spark {
    position: fixed;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,255,255,0));
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    animation: p8SparkFade 1.4s ease-out forwards;
}

@keyframes p8SparkFade {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: translateY(-20px) scale(1.5); opacity: 0; }
}
/* ---------------------------
   PAGE 9 — Krishna Interactive (FIXED CLEAN VERSION)
--------------------------- */

#page9 {
    position: relative;
    width: 100%;
    min-height: 100vh;
}

#page9 .page-content { 
    text-align: center;
    max-width: 760px;
    margin: 0 auto;
    padding-top: 120px;   /* pushes cake + Krishna into view */
    position: relative;
    z-index: 5;
}
/* ---------------------------
   FIXED CANDLE + FLAME ALIGNMENT
--------------------------- */

/* Flame */
.p9-flame {
    width: 22px;
    height: 32px;
    border-radius: 50%;
    background: radial-gradient(circle, #ffd976, #ff9d2f);
    position: absolute;
    top: -26px;               /* slightly above the candle tip */
    left: 50%;
    transform: translateX(-50%);
    z-index: 40;
}



/* ---------------------------
   KRISHNA (fixed left position)
--------------------------- */

.p9-krishna-wrap {
    position: absolute;
    left: -80px;
    top: -180px;     /* move him UP */
    width: 200px;
    pointer-events: none;
    z-index: 20;
}


#p9-krishna-img {
    width: 200px;
    transform-origin: 50% 40%;
}

/* Glow */
.p9-glow {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -20%);
    width: 300px;
    height: 300px;
    border-radius: 50%;
    background: radial-gradient(circle at 40% 40%, rgba(255,236,180,0.28), rgba(255,230,160,0.06), transparent);
    pointer-events: none;
    z-index: -1;
}

/* ---------------------------
   CAKE + CANDLE
--------------------------- */

.p9-cake {
    width: 340px;
    height: 110px;
    margin: -150px auto 40px;
    position: relative;
    background: linear-gradient(#ffe9d8, #ffd6b5, #ffcb99);
    border-radius: 18px;
    box-shadow: 0 14px 28px rgba(0,0,0,0.10), inset 0 4px 8px rgba(255,255,255,0.5);
}

.p9-cake-top {
    position: absolute;
    top: -22px;
    left: 0;
    right: 0;
    height: 45px;
    border-radius: 45px / 22px;
    background: linear-gradient(#fff3ec, #ffe0d2);
}

.p9-cake-body {
    position: absolute;
    top: 28px;
    left: 0;
    right: 0;
    height: 70px;
    border-radius: 18px;
    background: linear-gradient(#ffd8b9, #ffc69a);
}
.p9-candle {
    position: absolute;
    left: 50%;
    top: -90px;               /* LOWERED (was -60px) */
    transform: translateX(-50%);
    width: 14px;
    height: 60px;
    background: linear-gradient(#ffe7ba, #ffca7a);
    border-radius: 6px;
    z-index: 30;
}

.p9-flame {
    position: absolute;
    left: 50%;
    top: -18px;
    transform: translateX(-50%);
}
/* Knife */
.p9-knife {
    width: 160px;
    height: 14px;
    background: linear-gradient(90deg, #bbb, #eee);
    border-radius: 8px;
    position: absolute;
    left: 50%;
    top: -80px;             /* knife starts above cake */
    transform: translateX(-50%) rotate(-8deg);
    opacity: 0;
    z-index: 60;            /* above cake and krishna */
}

/* ---------------------------
   WISH INPUT AREA
--------------------------- */

.p9-wish-wrap {
    display: none;
    margin-top: 20px;
    justify-content: center;
    gap: 12px;
}

#p9-wish-input {
    width: 420px;
    padding: 14px;
    border-radius: 14px;
}

#p9-wish-send { 
    height: 44px;
    padding: 0 18px;
}

#p9-status {
    margin-top: 20px;
    font-weight: 600;
}

/* ---------------------------
   DIALOGUE BUBBLE (stable)
--------------------------- */

.p9-dialogue-bubble {
    position: absolute;
    top: 0;
    left: 220px;
    width: 180px;
    padding: 10px 14px;
    background: white;
    color: #0b57c7;
    border-radius: 12px;
    font-weight: 600;
    box-shadow: 0 4px 14px rgba(0,0,0,0.12);
    opacity: 0;
    transform: scale(0.85);
    transition: 0.35s ease;
    pointer-events: none;
}

.p9-dialogue-bubble.show {
    opacity: 1;
    transform: scale(1);
}

/* ---------------------------
   RESPONSIVE (mobile fix)
--------------------------- */
@media (max-width: 820px) {

    /* Move Krishna UP and center */
    .p9-krishna-wrap {
        left: 10%;
        transform: translateX(-50%);
        top: -40px;          /* was 20px — now moved UP */
        width: 150px;
        z-index: 30;
    }

    #p9-krishna-img {
        width: 150px;
        transform: translateY(-20px) scale(0.92);
    }

    /* Move cake UP so there isn’t empty space */
    .p9-cake {
        width: 72vw;              /* Smaller, clean look */
        max-width: 260px;         /* Prevent it from growing too big */
        margin: -110px auto 10px; /* Lift cake UP so candle touches */
        height: 95px;             /* Slightly reduced height */
    }
    .p9-cake-top {
        height: 38px;
        top: -18px;
    }
    .p9-cake-body {
        height: 60px;
        top: 22px;
    }
    .p9-candle {
        top: -60px;               /* Was -90px — now closer to cake */
    }
    .p9-flame {
        top: -12px;
    }

    /* Adjust page spacing so text doesn’t get covered */
    #page9 .page-content {
        padding-top: 120px;   /* was 160px — FIXED */
    }

    /* Wish input box spacing */
    .p9-wish-wrap {
        margin-top: 20px;
    }

    #p9-wish-input { 
        width: 70vw; 
    }

    /* Make bubble centered below Krishna */
    .p9-dialogue-bubble {
        left: 50%;
        top: 140px;
        transform: translateX(-50%);
    }
}

/* --------------------------------------------------
   GLOBAL BACK BUTTON STYLE
-------------------------------------------------- */
.nav-back {
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px 16px;
    background: #ffffffcc;
    backdrop-filter: blur(6px);
    border: 2px solid #d5d5d5;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    z-index: 9999;

    color: #333;
    transition: 0.25s ease;
}

.nav-back:hover {
    background: #fff8e6;
    transform: translateY(-2px);
    border-color: #ffcf6a;
    color: #000;
}
/* --------------------------------------------------
   FLOATING PROGRESS INDICATOR
-------------------------------------------------- */
.progress-indicator {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 8px 14px;
    font-size: 14px;
    font-weight: 600;
    background: #ffffffcc;
    backdrop-filter: blur(6px);
    border-radius: 8px;
    border: 1px solid #ddd;
    color: #333;
    z-index: 9999;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    transition: opacity 0.3s ease, transform 0.3s ease;
    opacity: 0;
    transform: translateY(-5px);
}

.progress-indicator.show {
    opacity: 1;
    transform: translateY(0);
}


/* --------------------------------------------------
   PAGE 9 — Floating Wish Animation
-------------------------------------------------- */

.p9-wish-floating {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 20px;
    opacity: 1;
    animation: wishFloatUp 4s ease-out forwards;
    color: #0b57c7;
    text-shadow: 0 0 10px rgba(255,255,255,0.8);
    font-weight: 600;
}

@keyframes wishFloatUp {
    0% {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
    70% {
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) translateY(-180px);
        opacity: 0;
    }
}



